<Window x:Class="DGScopeProfileManager.Views.UnifiedSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DGScope Settings" Height="800" Width="1000"
        WindowStartupLocation="CenterOwner">
    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Margin" Value="5,5,10,5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="MinWidth" Value="150"/>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="MinWidth" Value="100"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="GroupBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="10"/>
        </Style>
        
        <!-- NumericUpDown Style -->
        <Style x:Key="NumericTextBoxStyle" TargetType="TextBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="MinWidth" Value="60"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Right"/>
        </Style>
        
        <Style x:Key="SpinButtonStyle" TargetType="RepeatButton">
            <Setter Property="Width" Value="18"/>
            <Setter Property="Height" Value="13"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="FontSize" Value="8"/>
            <Setter Property="FontFamily" Value="Marlett"/>
            <Setter Property="Background" Value="#F0F0F0"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
    </Window.Resources>

    <DockPanel>
        <!-- Bottom Buttons (change based on mode) -->
        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="10">
            <!-- Default Settings Mode Buttons -->
            <Button Name="SaveDefaultButton" Content="Save Default Settings"
                    Click="SaveDefault_Click" MinWidth="140" Margin="5"/>
            <Button Name="ApplyToAllButton" Content="Apply to All Profiles"
                    Click="ApplyToAll_Click" MinWidth="140" Margin="5"/>

            <!-- Profile Settings Mode Buttons -->
            <Button Name="SaveProfileButton" Content="Save Profile Settings"
                    Click="SaveProfile_Click" MinWidth="140" Margin="5" Visibility="Collapsed"/>
            <Button Name="SaveAsDefaultButton" Content="Save as Default"
                    Click="SaveAsDefault_Click" MinWidth="120" Margin="5" Visibility="Collapsed"/>
            <Button Name="SaveAsDefaultApplyAllButton" Content="Save as Default &amp; Apply to All"
                    Click="SaveAsDefaultApplyAll_Click" MinWidth="190" Margin="5" Visibility="Collapsed"/>

            <Button Content="Close" IsCancel="True" MinWidth="80" Margin="5"/>
        </StackPanel>

        <!-- Instructions Panel -->
        <GroupBox DockPanel.Dock="Top" Header="Instructions" Margin="10,10,10,5">
            <TextBlock Name="InstructionsText" TextWrapping="Wrap" Margin="5"/>
        </GroupBox>

        <!-- Main Content with TabControl -->
        <TabControl Margin="10">
            <!-- Tab 1: Common Settings (Simple Mode) -->
            <TabItem Header="Common Settings">
                <ScrollViewer>
                    <StackPanel>
                                                <!-- Profile Information (Only visible in Profile Mode) -->
                                                <GroupBox Name="ProfileInfoPanel" Header="Profile Information" Visibility="Collapsed">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>

                                                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Profile Name:" Margin="5"/>
                                                        <TextBox Grid.Row="0" Grid.Column="1" Name="ProfileNameBox" Margin="5"/>

                                                        <TextBlock Grid.Row="1" Grid.Column="0" Text="File Path:" Margin="5"/>
                                                        <TextBlock Grid.Row="1" Grid.Column="1" Name="ProfileFilePathText" 
                                                                   TextWrapping="Wrap" Margin="5" FontSize="10" Foreground="Gray"/>

                                                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Video Map:" Margin="5"/>
                                                        <TextBox Grid.Row="2" Grid.Column="1" Name="VideoMapPathBox" 
                                                                 IsReadOnly="True" Margin="5"/>
                                                        <StackPanel Grid.Row="2" Grid.Column="2" Orientation="Horizontal" Margin="5">
                                                            <Button Content="Browse..." 
                                                                    Click="BrowseVideoMap_Click" Width="80" Margin="0,0,5,0"/>
                                                            <Button Content="Select..." Click="SelectVideoMapFromCrc_Click" Width="80"/>
                                                        </StackPanel>
                                                    </Grid>
                                                </GroupBox>

                        <!-- Font Settings -->
                        <GroupBox Header="Font Settings">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="100"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Font Name:"/>
                                <ComboBox Grid.Row="0" Grid.Column="1" Name="FontNameBox"
                                          IsEditable="True" IsTextSearchEnabled="True"/>
                                <TextBlock Grid.Row="0" Grid.Column="2" Text="Font Size:"/>
                                <Grid Grid.Row="0" Grid.Column="3" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="FontSizeBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="FontSizeUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="FontSizeDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="DCB Font Name:"/>
                                <ComboBox Grid.Row="1" Grid.Column="1" Name="DCBFontNameBox"
                                          IsEditable="True" IsTextSearchEnabled="True"/>
                                <TextBlock Grid.Row="1" Grid.Column="2" Text="DCB Font Size:"/>
                                <Grid Grid.Row="1" Grid.Column="3" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="DCBFontSizeBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="DCBFontSizeUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="DCBFontSizeDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </GroupBox>

                        <!-- Brightness Settings (Always Expanded) -->
                        <GroupBox Header="Brightness Settings (0-100)">
                            <Grid Margin="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="140"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="140"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="140"/>
                                    <ColumnDefinition Width="100"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Row 0 -->
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="DCB:"/>
                                <Grid Grid.Row="0" Grid.Column="1" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessDCBBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessDCBUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessDCBDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="0" Grid.Column="2" Text="Background:"/>
                                <Grid Grid.Row="0" Grid.Column="3" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessBackgroundBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessBackgroundUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessBackgroundDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="0" Grid.Column="4" Text="Map A:"/>
                                <Grid Grid.Row="0" Grid.Column="5" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessMapABox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessMapAUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessMapADown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Row 1 -->
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Map B:"/>
                                <Grid Grid.Row="1" Grid.Column="1" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessMapBBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessMapBUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessMapBDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="1" Grid.Column="2" Text="Full Data Blocks:"/>
                                <Grid Grid.Row="1" Grid.Column="3" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessFullDataBlocksBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessFullDataBlocksUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessFullDataBlocksDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="1" Grid.Column="4" Text="Lists:"/>
                                <Grid Grid.Row="1" Grid.Column="5" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessListsBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessListsUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessListsDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Row 2 -->
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Position Symbols:"/>
                                <Grid Grid.Row="2" Grid.Column="1" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessPositionSymbolsBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessPositionSymbolsUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessPositionSymbolsDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="2" Grid.Column="2" Text="Limited Data Blocks:"/>
                                <Grid Grid.Row="2" Grid.Column="3" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessLimitedDataBlocksBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessLimitedDataBlocksUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessLimitedDataBlocksDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="2" Grid.Column="4" Text="Other FDBs:"/>
                                <Grid Grid.Row="2" Grid.Column="5" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessOtherFDBsBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessOtherFDBsUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessOtherFDBsDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Row 3 -->
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Tools:"/>
                                <Grid Grid.Row="3" Grid.Column="1" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessToolsBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessToolsUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessToolsDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="3" Grid.Column="2" Text="Range Rings:"/>
                                <Grid Grid.Row="3" Grid.Column="3" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessRangeRingsBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessRangeRingsUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessRangeRingsDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="3" Grid.Column="4" Text="Compass:"/>
                                <Grid Grid.Row="3" Grid.Column="5" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessCompassBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessCompassUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessCompassDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Row 4 -->
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="Beacon Targets:"/>
                                <Grid Grid.Row="4" Grid.Column="1" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessBeaconTargetsBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessBeaconTargetsUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessBeaconTargetsDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="4" Grid.Column="2" Text="Primary Targets:"/>
                                <Grid Grid.Row="4" Grid.Column="3" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessPrimaryTargetsBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessPrimaryTargetsUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessPrimaryTargetsDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="4" Grid.Column="4" Text="History:"/>
                                <Grid Grid.Row="4" Grid.Column="5" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessHistoryBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessHistoryUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessHistoryDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Row 5 -->
                                <TextBlock Grid.Row="5" Grid.Column="0" Text="Weather:"/>
                                <Grid Grid.Row="5" Grid.Column="1" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessWeatherBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessWeatherUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessWeatherDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                                <TextBlock Grid.Row="5" Grid.Column="2" Text="Weather Contrast:"/>
                                <Grid Grid.Row="5" Grid.Column="3" Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="18"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Name="BrightnessWeatherContrastBox" Style="{StaticResource NumericTextBoxStyle}" 
                                             Margin="0" PreviewTextInput="NumericOnly_PreviewTextInput"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <RepeatButton Content="5" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessWeatherContrastUp_Click" Height="13"/>
                                        <RepeatButton Content="6" Style="{StaticResource SpinButtonStyle}" 
                                                     Click="BrightnessWeatherContrastDown_Click" Height="13" Margin="0,-1,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </GroupBox>

                        <!-- NEXRAD Station Selection (Only visible in Profile Mode) -->
                        <GroupBox Name="NexradPanel" Header="NEXRAD Weather Radar" Visibility="Collapsed">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" Text="NEXRAD Station:" VerticalAlignment="Center"/>
                                <ComboBox Grid.Column="1" Name="NexradComboBox"
                                          Margin="5" MinWidth="300"/>
                            </Grid>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Tab 2: Advanced Settings -->
            <TabItem Header="Advanced Settings">
                <ScrollViewer>
                    <StackPanel>
                        <!-- Screen Position -->
                        <GroupBox Header="Screen Position">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Center Latitude:"/>
                                <TextBox Grid.Row="0" Grid.Column="1" Name="ScreenCenterLatBox"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Center Longitude:"/>
                                <TextBox Grid.Row="1" Grid.Column="1" Name="ScreenCenterLonBox"/>

                                <Button Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                                        Content="Reset to Airport/Radar Center"
                                        Click="ResetToHomeLocation_Click"
                                        Margin="0,5,0,0"
                                        Name="ResetToHomeLocationButton"/>
                            </Grid>
                        </GroupBox>

                        <!-- Range and Scope Settings -->
                        <GroupBox Header="Range and Scope Settings">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Range (nm):"/>
                                <TextBox Grid.Row="0" Grid.Column="1" Name="RangeBox"/>
                                <CheckBox Grid.Row="0" Grid.Column="2" Grid.ColumnSpan="2"
                                          Name="ScopeCenteredCheck" Content="Scope Centered"/>

                                <CheckBox Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                                          Name="RangeRingsDisplayedCheck" Content="Range Rings Displayed"/>
                                <CheckBox Grid.Row="1" Grid.Column="2" Grid.ColumnSpan="2"
                                          Name="RangeRingsCenteredCheck" Content="Range Rings Centered"/>
                            </Grid>
                        </GroupBox>

                        <!-- Range Ring Details -->
                        <GroupBox Header="Range Ring Details">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Ring Spacing (nm):"/>
                                <TextBox Grid.Row="0" Grid.Column="1" Name="RangeRingSpacingBox"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Ring Location Latitude:"/>
                                <TextBox Grid.Row="1" Grid.Column="1" Name="RangeRingLatBox"/>

                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Ring Location Longitude:"/>
                                <TextBox Grid.Row="2" Grid.Column="1" Name="RangeRingLonBox"/>
                            </Grid>
                        </GroupBox>

                        <!-- Data Block Settings -->
                        <GroupBox Header="Data Block Settings">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="DCB Location:"/>
                                <TextBox Grid.Row="0" Grid.Column="1" Name="DCBLocationBox"/>
                                <CheckBox Grid.Row="0" Grid.Column="2" Grid.ColumnSpan="2"
                                          Name="DCBVisibleCheck" Content="DCB Visible"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Owned DB Position:"/>
                                <TextBox Grid.Row="1" Grid.Column="1" Name="OwnedDataBlockPosBox"/>
                                <TextBlock Grid.Row="1" Grid.Column="2" Text="Unowned DB Position:"/>
                                <TextBox Grid.Row="1" Grid.Column="3" Name="UnownedDataBlockPosBox"/>

                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Unassociated DB Position:"/>
                                <TextBox Grid.Row="2" Grid.Column="1" Name="UnassociatedDataBlockPosBox"/>
                            </Grid>
                        </GroupBox>

                        <!-- PTL and History Settings -->
                        <GroupBox Header="PTL and History Settings">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="PTL Length:"/>
                                <TextBox Grid.Row="0" Grid.Column="1" Name="PTLLengthBox"/>
                                <TextBlock Grid.Row="0" Grid.Column="2" Text="Leader Length:"/>
                                <TextBox Grid.Row="0" Grid.Column="3" Name="LeaderLengthBox"/>

                                <CheckBox Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                                          Name="PTLOwnCheck" Content="PTL Own"/>
                                <CheckBox Grid.Row="1" Grid.Column="2" Grid.ColumnSpan="2"
                                          Name="PTLAllCheck" Content="PTL All"/>

                                <TextBlock Grid.Row="2" Grid.Column="0" Text="History Num:"/>
                                <TextBox Grid.Row="2" Grid.Column="1" Name="HistoryNumBox"/>
                                <TextBlock Grid.Row="2" Grid.Column="2" Text="History Rate:"/>
                                <TextBox Grid.Row="2" Grid.Column="3" Name="HistoryRateBox"/>
                            </Grid>
                        </GroupBox>

                        <!-- Altitude Filters -->
                        <GroupBox Header="Altitude Filters">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Associated Max:"/>
                                <TextBox Grid.Row="0" Grid.Column="1" Name="AltFilterAssocMaxBox"/>
                                <TextBlock Grid.Row="0" Grid.Column="2" Text="Associated Min:"/>
                                <TextBox Grid.Row="0" Grid.Column="3" Name="AltFilterAssocMinBox"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Unassociated Max:"/>
                                <TextBox Grid.Row="1" Grid.Column="1" Name="AltFilterUnassocMaxBox"/>
                                <TextBlock Grid.Row="1" Grid.Column="2" Text="Unassociated Min:"/>
                                <TextBox Grid.Row="1" Grid.Column="3" Name="AltFilterUnassocMinBox"/>
                            </Grid>
                        </GroupBox>

                        <!-- Preview and Status Areas -->
                        <GroupBox Header="Preview and Status Area Locations">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Preview Area X:"/>
                                <TextBox Grid.Row="0" Grid.Column="1" Name="PreviewAreaXBox"/>
                                <TextBlock Grid.Row="0" Grid.Column="2" Text="Preview Area Y:"/>
                                <TextBox Grid.Row="0" Grid.Column="3" Name="PreviewAreaYBox"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Status Area X:"/>
                                <TextBox Grid.Row="1" Grid.Column="1" Name="StatusAreaXBox"/>
                                <TextBlock Grid.Row="1" Grid.Column="2" Text="Status Area Y:"/>
                                <TextBox Grid.Row="1" Grid.Column="3" Name="StatusAreaYBox"/>
                            </Grid>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>
