<Window x:Class="DGScopeProfileManager.Views.ProfileSelectionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:models="clr-namespace:DGScopeProfileManager.Models"
        Title="Select Profile" Height="500" Width="400"
        WindowStartupLocation="CenterOwner">
    <DockPanel>
        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="10">
            <Button Content="OK" Click="OK_Click" IsDefault="True" MinWidth="80" Margin="5"/>
            <Button Content="Cancel" IsCancel="True" MinWidth="80" Margin="5"/>
        </StackPanel>

        <GroupBox Header="Select a Profile" Margin="10">
            <TreeView Name="ProfilesTree" SelectedItemChanged="ProfilesTree_SelectionChanged">
                <TreeView.Resources>
                    <!-- Facility Level Template -->
                    <HierarchicalDataTemplate DataType="{x:Type models:Facility}" ItemsSource="{Binding Profiles}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“" Margin="0,0,5,0"/>
                            <TextBlock Text="{Binding ArtccCode}" FontWeight="Bold"/>
                            <TextBlock Text=" / "/>
                            <TextBlock Text="{Binding Name}"/>
                        </StackPanel>
                    </HierarchicalDataTemplate>

                    <!-- Profile Level Template -->
                    <DataTemplate DataType="{x:Type models:DgScopeProfile}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“„" Margin="0,0,5,0"/>
                            <TextBlock Text="{Binding Name}"/>
                        </StackPanel>
                    </DataTemplate>
                </TreeView.Resources>
            </TreeView>
        </GroupBox>
    </DockPanel>
</Window>
